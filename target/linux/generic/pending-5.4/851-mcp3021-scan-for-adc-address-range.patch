--- a/drivers/hwmon/mcp3021.c
+++ b/drivers/hwmon/mcp3021.c
@@ -103,7 +103,7 @@ static DEVICE_ATTR_RO(in0_input);
 static int mcp3021_probe(struct i2c_client *client,
 				const struct i2c_device_id *id)
 {
-	int err;
+	int err, idx, ret;
 	struct mcp3021_data *data = NULL;
 	struct device_node *np = client->dev.of_node;
 
@@ -117,6 +117,27 @@ static int mcp3021_probe(struct i2c_clie
 
 	i2c_set_clientdata(client, data);
 
+	if (np && of_property_read_bool(np, "scan-for-address")) {
+		if (mcp3021_read16(client) < 0) {
+
+			dev_info(&client->dev, "Scanning address range.");
+
+			for(idx = 0; idx < 8; idx++ ) {
+				client->addr = 0x48 + idx;
+				if (mcp3021_read16(client) >= 0) {
+					dev_info(&client->dev, "Found: %s at %02X", id->name, client->addr);
+					break;
+				}
+			}
+		}
+	}
+
+	ret = mcp3021_read16(client);
+	if (ret < 0) 
+		return -ENODEV;
+
+	dev_info(&client->dev, "Found ADC: MCP3021");
+
 	if (np) {
 		if (!of_property_read_u32(np, "reference-voltage-microvolt",
 					  &data->vdd))
@@ -153,7 +174,9 @@ static int mcp3021_probe(struct i2c_clie
 	if (err)
 		return err;
 
-	data->hwmon_dev = hwmon_device_register(&client->dev);
+	data->hwmon_dev = hwmon_device_register_with_info(
+		&client->dev, "mcp3021", NULL, NULL, NULL);
+
 	if (IS_ERR(data->hwmon_dev)) {
 		err = PTR_ERR(data->hwmon_dev);
 		goto exit_remove;
